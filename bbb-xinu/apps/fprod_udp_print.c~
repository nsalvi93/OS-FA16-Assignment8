// #include <xinu.h>
#include "future.h"

int32 fprod_udp_request(future *fut,int serverip,int port,int locport, char message[])
{
	int i, status;
	while(1)
	{
		while(fut->state==FUTURE_EMPTY || fut->state==FUTURE_WAITING)
			printf("");

		status = future_get(fut, &i);

		if (status < 1)
	  	{
	    		printf("future_get failed\n");
	    		return -1;
	  	}
	  	kprintf("\nConsumer consumed %d", i);
	}	
	udp_release(slot);
}
